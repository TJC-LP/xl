# JVM options for Mill build process
#
# Scala 3 LazyVals sun.misc.Unsafe Deprecation Warnings
# ======================================================
# These are JVM-level warnings that Scala 3 triggers when using lazy vals.
# The warnings occur because Scala 3's LazyVals$ class uses sun.misc.Unsafe internally.
# See: https://github.com/scala/scala3/issues/12490
#
# Known limitation: The Zinc compilation worker spawns separate JVMs which may not
# fully inherit these options, so some warnings may still appear during compilation.
# These warnings are harmless and will be addressed in future Scala versions.

# Allow access to sun.misc for Scala 3 LazyVals
--add-opens=java.base/sun.misc=ALL-UNNAMED

# Ignore unrecognized options (for JVMs that don't support these flags)
-XX:+IgnoreUnrecognizedVMOptions
